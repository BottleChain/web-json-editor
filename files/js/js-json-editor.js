var $jscomp={scope:{},checkStringArgs:function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}};
$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6-impl","es3");
var isCopyMode=!1,copyObjectViewId=null,counter=0,objectDragElementType="jsonElement",objectDragArrayType="jsonArray",objectDragObjectType="jsonObject",objectDragType="type",displayInline="inline",displayBlock="block",displayNone="none",displayVisible="visible",displayHidden="hidden",valueNull="null",overlayDivId="overlay",overlayElementBoxId="element-toolbox-overlay",elementBoxId="json-element-box",overlayArrayBoxId="array-toolbox-overlay",arrayBoxId="json-array-box",overlayObjectBoxId="object-toolbox-overlay",
objectBoxId="json-object-box",attachedJsonObjectKey="attachedJsonObjectKey",dropTargetDivKey="dropTargetDivKey",objectViewSelectId=null,objectViewSelectId_2=null,rootObjectViewId="rootObjectId-div",rootObject="rootObject",rootObjectTableId="rootObjectId-div-table",rootObjectImageId="rootObjectId-div-img",jsonTextViewId="json-text",autoType="auto",stringType="string",numberType="number",booleanType="boolean",dateType="date",nullType="null",objectsType="objects",ElementInElementMessage="An element can not come inside another element",
ElementInArrayMessage="An element can not come inside another array",ObjectInElementMessage="An object can not come inside another element",ArrayInElementMessage="An array can not come inside another element",ArrayInArrayMessage="An array can not come inside another array",ArrayInNonObjectsMessage="This is not an Object array",noneSelectedMessage="Please select node to delete",rootSelectedMessage="Root object can not be deleted",deleteConfirmMessage="Are you sure, you want to delete this node. Once deleted can'nt be undone",
noneSelectedCopyMessage="Please select a node to copy",noneSelectedPasteMessage="Please select node to paste",copiedMessage="Copied",CloudConnectionProblemMessage="There is some problem in connecting to cloud server, Please try again after some time",jsonSavedMessage="Saved",overlayElementName="element-name",overlayElementValue="element-value",overlayElementRadioTrue="element-radio-true",overlayElementRadioFalse="element-radio-false",overlayElementType="element-type",overlayElementRadioDiv="element-radio-div",
overlayElementMandatoryName="element-name-mandatory-overlay",overlayElementMandatoryValue="element-value-mandatory-overlay",overlayArrayName="array-name",overlayArrayValue="array-value",overlayDateDiv="date-div",overlayArrayDateValue="array-date-value",overlayArrayType="array-type",overlayArrayDateDiv="array-date-div",overlayArrayMandatoryName="array-name-mandatory-overlay",overlayArrayMandatoryValue="array-value-mandatory-overlay",overlayArrayCheckValue="array-value-check-overlay",overlayObjectName=
"object-name",overlayObjectMandatoryName="object-name-mandatory-overlay",toolboxElementName="json-element-name",toolboxElementValue="json-element-value",toolboxElementRadioTrue="json-element-radio-true",toolboxElementRadioFalse="json-element-radio-false",toolboxElementRadioDiv="json-element-radio-div",toolboxElementType="json-element-type",toolboxElementMandatoryName="element-name-mandatory-text",toolboxElementMandatoryValue="element-value-mandatory-text",toolboxArrayName="json-array-name",toolboxArrayValue=
"json-array-value",toolboxDateDiv="json-date-div",toolboxArrayDateValue="json-array-date-value",toolboxArrayType="json-array-type",toolboxArrayDateDiv="json-array-date-div",toolboxArrayMandatoryName="array-name-mandatory-text",toolboxArrayMandatoryValue="array-value-mandatory-text",toolboxArrayCheckValue="array-value-check-text",toolboxObjectName="json-object-name",toolboxObjectMandatoryName="object-name-mandatory-text",objectViewDivSelectBackground="#555555",objectViewDivBackground="#2f2f2f",objectTreeViewClassName=
"json-object",arrayTreeViewClassName="json-array",elementTreeViewClassName="json-element",deleteImagePath="jsonEditorFiles/images/delete.png",collapseImagePath="jsonEditorFiles/images/collapse.png",expandImagePath="jsonEditorFiles/images/expand.png",circleImagePath="jsonEditorFiles/images/circle.png",copyImagePath="jsonEditorFiles/images/copy.png",copySelectImagePath="jsonEditorFiles/images/copy-select.png",collapseImagePathClassName="collapse-indent",circleImagePathClassName="circle-indent",treeTableClassName=
"tree-table",cssClassAddDateOverlay="add-date",cssClassDeleteImageOverlay="delete-image",cssClassAddDate="json-add-date",cssClassDeleteImage="json-delete-image",selectDateMessage="Select Date",allNumberMessage="All values should be number",allBooleanMessage="All values should be boolean",allNullMessage="All values should be null",jsonArrayDateValue=[],imageAlt="Online Json Editor",propertyBox="property-box",rootJsonObject=new JsonObject(rootObject,rootObjectTableId,rootObjectImageId);
"codedestine.com"!=location.host&&(location.href="../../json-editor.html");function JsonElement(a,b,c){this.type="jsonElement";this.name=a;this.value=b;this.valueType=c;this.divId=""}function JsonArray(a,b){this.type="jsonArray";this.name=a;this.value=[];this.valueType=b;this.divId=this.parent=this.imageId=this.tableId=""}function JsonObject(a,b,c){this.type="jsonObject";this.name=a;this.value=[];this.tableId=b;this.imageId=c;this.divId=""}function isFloat(a){return 0!==a%1}
function isInteger(a){return 0===a%1}function setFormattedJsonText(){var a={};null!=rootJsonObject&&(a=getJsonObject(rootJsonObject));document.getElementById(jsonTextViewId).value=JSON.stringify(a,null,"\t")}
function getJsonObject(a){var b,c={};if(null!==a.value)for(var d=0;d<a.value.length;d++)if(b=a.value[d],null!==b)if("jsonElement"===b.type)c[b.name]=b.value;else if("jsonArray"===b.type){var e=[],f;for(f in b.value)"[object Object]"===Object.prototype.toString.call(b.value[f])?e.push(getJsonObject(b.value[f])):e.push(b.value[f]);c[b.name]=e}else"jsonObject"===b.type&&(c[b.name]=getJsonObject(b));return c}jQuery.data(document.getElementById(rootObjectViewId),attachedJsonObjectKey,rootJsonObject);
function setAndShowPropertyBox(a){var b=jQuery.data(a,attachedJsonObjectKey);b.type===objectDragElementType?(showPropertyBox(propertyBox,objectDragElementType),jQuery.data(document.getElementById(elementBoxId),dropTargetDivKey,a),setElementBoxInitialValues(b,toolboxElementName,toolboxElementType,toolboxElementValue,toolboxElementRadioTrue,toolboxElementRadioFalse,toolboxElementRadioDiv,toolboxElementMandatoryName,toolboxElementMandatoryValue)):b.type===objectDragArrayType?(showPropertyBox(propertyBox,
objectDragArrayType),jQuery.data(document.getElementById(arrayBoxId),dropTargetDivKey,a),setArrayBoxInitialValues(b,toolboxArrayName,toolboxArrayValue,toolboxArrayDateDiv,toolboxDateDiv,toolboxArrayDateValue,toolboxArrayType,toolboxArrayMandatoryName,toolboxArrayMandatoryValue,toolboxArrayCheckValue,cssClassAddDate,cssClassDeleteImage)):b.type===objectDragObjectType&&b.parent===objectDragObjectType&&(showPropertyBox(propertyBox,objectDragObjectType),jQuery.data(document.getElementById(objectBoxId),
dropTargetDivKey,a),setObjectBoxInitialValues(b,toolboxObjectName,toolboxObjectMandatoryName))}
function drop(a){a.preventDefault();var b=a.currentTarget,c=a.dataTransfer.getData(objectDragType);a=jQuery.data(b,attachedJsonObjectKey);null!=a&&(allowDrop(c,a)?(objectViewSelectId_2=objectViewSelectId,objectViewSelectId=b.id,c===objectDragElementType?(openOverlay(overlayDivId,objectDragElementType),jQuery.data(document.getElementById(overlayElementBoxId),dropTargetDivKey,b),setElementBoxInitialValues(new JsonElement("","",autoType),overlayElementName,overlayElementType,overlayElementValue,overlayElementRadioTrue,
overlayElementRadioFalse,overlayElementRadioDiv,overlayElementMandatoryName,overlayElementMandatoryValue)):c===objectDragArrayType?(openOverlay(overlayDivId,objectDragArrayType),jQuery.data(document.getElementById(overlayArrayBoxId),dropTargetDivKey,b),setArrayBoxInitialValues(new JsonArray("",autoType),overlayArrayName,overlayArrayValue,overlayArrayDateDiv,overlayDateDiv,overlayArrayDateValue,overlayArrayType,overlayArrayMandatoryName,overlayArrayMandatoryValue,overlayArrayCheckValue,cssClassAddDateOverlay,
cssClassDeleteImageOverlay)):c===objectDragObjectType&&(c===a.type?(openOverlay(overlayDivId,objectDragObjectType),jQuery.data(document.getElementById(overlayObjectBoxId),dropTargetDivKey,b),setObjectBoxInitialValues(new JsonObject("","",""),overlayObjectName,overlayObjectMandatoryName)):(c=new JsonObject("","",""),a=jQuery.data(b,attachedJsonObjectKey),c.name=a.value.length,c.parent=objectDragArrayType,a.value.push(c),b=createObjectDiv(c),document.getElementById(a.tableId).appendChild(b.element),
document.getElementById(a.tableId).appendChild(b.table),document.getElementById(a.imageId).style.visibility=displayVisible,objectTreeDivOnClick(b.id),setFormattedJsonText()))):(b.style.background=objectViewDivBackground,null!=objectViewSelectId&&(document.getElementById(objectViewSelectId).style.background=objectViewDivSelectBackground)))}
function allowDrop(a,b){var c=b.type;if(a===objectDragElementType){if(c===objectDragObjectType)return!0;if(c===objectDragElementType)return alert(ElementInElementMessage),!1;if(c===objectDragArrayType)return alert(ElementInArrayMessage),!1}else if(a===objectDragObjectType){if(c===objectDragObjectType)return!0;if(c===objectDragElementType)return alert(ObjectInElementMessage),!1;if(c===objectDragArrayType){if(b.valueType===objectsType)return!0;alert(ArrayInNonObjectsMessage);return!1}}else if(a===objectDragArrayType){if(c===
objectDragObjectType)return!0;if(c===objectDragElementType)return alert(ArrayInElementMessage),!1;if(c===objectDragArrayType)return alert(ArrayInArrayMessage),!1}}function getFormattedTreeDivId(a){counter+=1;return 5<=a.length?a.substring(0,5)+"-"+counter:a+"-"+counter}function getFormattedTreeDivName(a){return 15<a.length?a.substring(0,15)+"...":a}
function createElementDiv(a){var b=getFormattedTreeDivId(a.name)+"-div";a.divId=b;var c=getMandatoryText(b,elementTreeViewClassName,getFormattedTreeDivName(a.name));jQuery.data(c,attachedJsonObjectKey,a);c.addEventListener("dragenter",function(a){dragEnter(a)});c.addEventListener("dragleave",function(a){dragLeave(a)});c.addEventListener("drop",function(a){drop(a)});c.addEventListener("dragover",function(a){dragOver(a)});c.addEventListener("click",function(){objectTreeDivOnClick(b)});a=document.createElement("tr");
$(a).attr("id",b+"-tr");var d=document.createElement("td");d.appendChild(getImage(b+"-img",circleImagePath,circleImagePathClassName));d.appendChild(c);a.appendChild(d);return{element:a,id:b}}
function createObjectDiv(a){var b=getFormattedTreeDivId(a.name)+"-div";a.divId=b;var c=getImage(b+"-img",collapseImagePath,collapseImagePathClassName);c.addEventListener("click",function(){objectCollapseImageOnClick(b+"-table",b+"-img",b)});var d=getMandatoryText(b,"",getFormattedTreeDivName(a.name));jQuery.data(d,attachedJsonObjectKey,a);a.type===objectDragArrayType?$(d).addClass(arrayTreeViewClassName):$(d).addClass(objectTreeViewClassName);d.addEventListener("dragenter",function(a){dragEnter(a)});
d.addEventListener("dragleave",function(a){dragLeave(a)});d.addEventListener("drop",function(a){drop(a)});d.addEventListener("dragover",function(a){dragOver(a)});d.addEventListener("click",function(){objectTreeDivOnClick(b)});var e=document.createElement("table");$(e).attr("id",b+"-table");$(e).addClass(treeTableClassName);a.tableId=b+"-table";a.imageId=b+"-img";a=document.createElement("tr");$(a).attr("id",b+"-tr");var f=document.createElement("tr");$(f).attr("id",b+"-table-tr");var k=document.createElement("td");
k.appendChild(c);k.appendChild(d);a.appendChild(k);c=document.createElement("td");c.appendChild(e);f.appendChild(c);return{element:a,id:b,table:f}}function objectCollapseImageOnClick(a,b,c){a=document.getElementById(a);b=document.getElementById(b);b.src.includes(collapseImagePath)?(a.style.display=displayNone,b.src=expandImagePath):b.src.includes(expandImagePath)&&(a.style.display=displayBlock,b.src=collapseImagePath);objectTreeDivOnClick(c)}
function deleteJsonView(){if(null==objectViewSelectId)alert(noneSelectedMessage);else if(objectViewSelectId==rootObjectViewId)alert(rootSelectedMessage);else if(confirm(deleteConfirmMessage)){unCopy();var a=jQuery.data(document.getElementById(objectViewSelectId),attachedJsonObjectKey),b=document.getElementById(objectViewSelectId+"-tr"),c=document.getElementById(objectViewSelectId+"-table-tr"),d=b.parentNode;d.removeChild(b);null!==c&&d.removeChild(c);b=d.id.replace("-table","");c=jQuery.data(document.getElementById(b),
attachedJsonObjectKey);null!=c&&null!=c.value&&(d=c.value.indexOf(a),-1!=d&&c.value.splice(d,1));0==c.value.length&&(document.getElementById(b+"-img").style.visibility="hidden");if(a.type===objectDragObjectType&&a.parent===objectDragArrayType)for(var e in c.value)a=c.value[e],a.name=e,d=document.getElementById(a.divId),$(d).html(getFormattedTreeDivName(a.name));setFormattedJsonText();objectTreeDivOnClick(b)}}
function dragObjectStart(a){dragStart();a.dataTransfer.setData(objectDragType,objectDragObjectType)}function dragElementStart(a){dragStart();a.dataTransfer.setData(objectDragType,objectDragElementType)}function dragArrayStart(a){dragStart();a.dataTransfer.setData(objectDragType,objectDragArrayType)}function dragStart(){null!=objectViewSelectId&&(document.getElementById(objectViewSelectId).style.background=objectViewDivBackground)}
function dragEnter(a){a=a.currentTarget;null!=a&&(a.style.background=objectViewDivSelectBackground)}function dragEnded(a){null!=objectViewSelectId&&(document.getElementById(objectViewSelectId).style.background=objectViewDivSelectBackground)}function dragLeave(a){a=a.currentTarget;null!=a&&(a.style.background=objectViewDivBackground)}function dragOver(a){a.preventDefault()}
function showPropertyBox(a,b){var c=document.getElementById(a);b===objectDragElementType?c.appendChild(elementDiv()):b===objectDragObjectType?c.appendChild(objectDiv()):b===objectDragArrayType&&c.appendChild(arrayDiv())}function hidePropertyBox(a){for(a=document.getElementById(a);a.firstChild;)a.removeChild(a.firstChild)}
function openOverlay(a,b){var c=document.getElementById(a);c.style.visibility=displayVisible;b===objectDragElementType?c.appendChild(elementDivOverlay()):b===objectDragObjectType?c.appendChild(objectDivOverlay()):b===objectDragArrayType&&c.appendChild(arrayDivOverlay())}
var closeOverLayVar=function(a,b){var c=document.getElementById(a);for(c.style.visibility=displayHidden;c.firstChild;)c.removeChild(c.firstChild);b&&(null!=objectViewSelectId&&(c=document.getElementById(objectViewSelectId),c.style.background=objectViewDivBackground),null!=objectViewSelectId_2&&(c=document.getElementById(objectViewSelectId_2),c.style.background=objectViewDivSelectBackground),objectViewSelectId=objectViewSelectId_2)};
function setJsonElementValue(a,b,c,d,e,f,k,g){var h=new JsonElement("","",""),m=!0;b=document.getElementById(b);void 0===b.value||""===b.value?(m=!1,document.getElementById(k).style.display=displayBlock):h.name=b.value;f=document.getElementById(f);f=f.options[f.selectedIndex].value;h.valueType=f;if(f===booleanType)c=document.getElementById(d),e=document.getElementById(e),!0===c.checked?h.value=!0:!0===e.checked?h.value=!1:(m=!1,document.getElementById(g).style.display=displayBlock);else{var l=document.getElementById(c);
if(f===stringType||f===autoType)void 0===l.value&&(m=!1,document.getElementById(g).style.display=displayBlock);else if(void 0===l.value||""===l.value)m=!1,document.getElementById(g).style.display=displayBlock}m&&(f===stringType?h.value=l.value:f===numberType?h.value=l.valueAsNumber:f===dateType?h.value=l.valueAsDate:f===nullType?"null"===l.value.toLowerCase()&&(h.value=null):f===autoType&&("null"===l.value.toLowerCase()?h.value=null:"true"===l.value.toLowerCase()?h.value=!0:"false"===l.value.toLowerCase()?
h.value=!1:""===l.value.toLowerCase()?h.value="":isNaN(l.value)?h.value=l.value:isFloat(l.value)?h.value=parseFloat(l.value):isInteger(l.value)?h.value=parseInt(l.value):h.value=l.value),a===overlayElementBoxId?(a=jQuery.data(document.getElementById(a),dropTargetDivKey),a=jQuery.data(a,attachedJsonObjectKey),a.value.push(h),h=createElementDiv(h),document.getElementById(a.tableId).appendChild(h.element),document.getElementById(a.imageId).style.visibility=displayVisible,closeOverLayVar(overlayDivId,
!1),objectTreeDivOnClick(h.id)):a===elementBoxId&&(g=jQuery.data(document.getElementById(a),dropTargetDivKey),a=jQuery.data(g,attachedJsonObjectKey),a.name=h.name,a.value=h.value,a.valueType=h.valueType,$(g).html(getFormattedTreeDivName(a.name))),setFormattedJsonText())}
function setElementBoxInitialValues(a,b,c,d,e,f,k,g,h){var m=a.value,l=a.name;a=a.valueType;document.getElementById(g).style.display=displayNone;document.getElementById(h).style.display=displayNone;document.getElementById(b).value=l;document.getElementById(c).value=a;b=document.getElementById(d);e=document.getElementById(e);f=document.getElementById(f);k=document.getElementById(k);b.value="";e.checked="";f.checked="";a===stringType||a===autoType?(b.type="text",b.value=null===m?"null":m,b.readOnly=
!1,k.style.display=displayNone):a===numberType&&(b.type="number",b.value=m,b.readOnly=!1,k.style.display=displayNone);a===booleanType&&(b.value="",b.readOnly=!1,b.type="hidden",k.style.display=displayInline,!0===m?e.checked="checked":f.checked="checked");a===nullType&&(b.type="text",b.value="null",b.readOnly=!0,k.style.display=displayNone);a===dateType&&(b.type="date",b.valueAsDate=m,b.readOnly=!1,k.style.display=displayNone)}
function elementDivOverlay(){var a=getDivWithIdAndClass("element-toolbox-overlay","element-toolbox-overlay"),b=createOverlayTitleBar("Json Element",closeOverLayVar,"overlay"),c=getDivWithIdAndClass("element-box","element-box");c.appendChild(elementNameOverlay());c.appendChild(elementValueOverlay());c.appendChild(elementTypeOverlay());c.appendChild(elementButtonOverlay());a.appendChild(b);a.appendChild(c);return a}
function elementValueOverlay(){var a=getPropertyDiv("property-div"),b=getPropertyDivText("property-value","Value :- "),c=getPropertyDivInput("element-value","text","width:70%");c.addEventListener("blur",function(){checkElementValueOnblur("element-value","element-value-mandatory-overlay","element-type")});c.addEventListener("focus",function(){checkElementOnFocus("element-value-mandatory-overlay")});var d=getPropertyBooleanBox("element-radio-div","element-radio-true","element-radio-false","property-name",
"element-value-mandatory-overlay"),e=getMandatoryText("element-value-mandatory-overlay","mandatory-text-overlay","* Value is a Mandatory Field");a.appendChild(b);a.appendChild(c);a.appendChild(d);a.appendChild(document.createElement("br"));a.appendChild(e);return a}function elementDiv(){var a=document.createElement("div");$(a).attr("id","json-element-box");a.appendChild(elementName());a.appendChild(elementValue());a.appendChild(elementType());a.appendChild(elementButton());return a}
function elementValue(){var a=getPropertyDiv("json-property-div"),b=getPropertyDivText("json-property-value","Value :- "),c=getPropertyDivInput("json-element-value","text","width:60%");c.addEventListener("blur",function(){checkElementValueOnblur("json-element-value","element-value-mandatory-text","json-element-type")});c.addEventListener("focus",function(){checkElementOnFocus("element-value-mandatory-text")});var d=getPropertyBooleanBox("json-element-radio-div","json-element-radio-true","json-element-radio-false",
"json-property-name","element-value-mandatory-text"),e=getMandatoryText("element-value-mandatory-text","mandatory-text","* Value is a Mandatory Field");a.appendChild(b);a.appendChild(c);a.appendChild(d);a.appendChild(e);return a}
function elementButtonOverlay(){var a=getPropertyDiv("property-div"),b=getPropertyDivButton("element-set","button","button-set","Set");b.addEventListener("click",function(){setJsonElementValue("element-toolbox-overlay","element-name","element-value","element-radio-true","element-radio-false","element-type","element-name-mandatory-overlay","element-value-mandatory-overlay")});a.appendChild(b);return a}
function elementButton(){var a=getPropertyDiv("json-property-div"),b=getPropertyDivButton("json-element-set","button","json-button-set","Set");b.addEventListener("click",function(){setJsonElementValue("json-element-box","json-element-name","json-element-value","json-element-radio-true","json-element-radio-false","json-element-type","element-name-mandatory-text","element-value-mandatory-text")});a.appendChild(b);return a}
function elementTypeOverlay(){var a=getPropertyDiv("property-div"),b=getPropertyDivText("property-type","Type :- "),c=getPropertyDivSelect("element-type");c.addEventListener("change",function(){changeJsonElementValueTypeBox("element-value","element-type","element-radio-true","element-radio-false","element-radio-div")});a.appendChild(b);a.appendChild(c);return a}
function elementType(){var a=getPropertyDiv("json-property-div"),b=getPropertyDivText("json-property-type","Type :- "),c=getPropertyDivSelect("json-element-type");c.addEventListener("change",function(){changeJsonElementValueTypeBox("json-element-value","json-element-type","json-element-radio-true","json-element-radio-false","json-element-radio-div")});a.appendChild(b);a.appendChild(c);return a}
function elementNameOverlay(){var a=getPropertyDiv("property-div"),b=getPropertyDivText("property-name","Name :- "),c=getPropertyDivInput("element-name","text","width:70%");c.addEventListener("blur",function(){checkElementOnblur("element-name","element-name-mandatory-overlay")});c.addEventListener("focus",function(){checkElementOnFocus("element-name-mandatory-overlay")});var d=getMandatoryText("element-name-mandatory-overlay","mandatory-text-overlay","* Name is a Mandatory Field");a.appendChild(b);
a.appendChild(c);a.appendChild(document.createElement("br"));a.appendChild(d);return a}
function elementName(){var a=getPropertyDiv("json-property-div"),b=getPropertyDivText("json-property-name","Name :- "),c=getPropertyDivInput("json-element-name","text","width:60%");c.addEventListener("blur",function(){checkElementOnblur("json-element-name","element-name-mandatory-text")});c.addEventListener("focus",function(){checkElementOnFocus("element-name-mandatory-text")});var d=getMandatoryText("element-name-mandatory-text","mandatory-text","* Name is a Mandatory Field");a.appendChild(b);a.appendChild(c);
a.appendChild(d);return a}function checkElementOnblur(a,b){var c=document.getElementById(a).value;if(void 0===c||""===c)document.getElementById(b).style.display=displayBlock}function checkElementOnFocus(a){document.getElementById(a).style.display=displayNone}
function checkElementValueOnblur(a,b,c){c=document.getElementById(c);c=c.options[c.selectedIndex].value;a=document.getElementById(a).value;if(c===stringType||c===autoType)void 0===a&&(document.getElementById(b).style.display=displayBlock);else if(void 0===a||""===a)document.getElementById(b).style.display=displayBlock}function setElementBooleanValue(a){document.getElementById(a).style.display=displayNone}
function changeJsonElementValueTypeBox(a,b,c,d,e){a=document.getElementById(a);c=document.getElementById(c);d=document.getElementById(d);e=document.getElementById(e);b=document.getElementById(b);b=b.options[b.selectedIndex].value;b===stringType||b===autoType?(a.type="text",a.value="",a.readOnly=!1,e.style.display=displayNone,a.focus()):b===numberType&&(a.type="number",a.value="",a.readOnly=!1,e.style.display=displayNone,a.focus());b===booleanType&&(a.value="",a.readOnly=!1,a.type="hidden",e.style.display=
displayInline,c.checked="",d.checked="",c.focus());b===nullType&&(a.type="text",a.value="null",a.readOnly=!0,e.style.display=displayNone,a.focus());b===dateType&&(a.type="date",a.value="",a.readOnly=!1,e.style.display=displayNone,a.focus())}
function setArrayBoxInitialValues(a,b,c,d,e,f,k,g,h,m,l,p){var n=a.value,q=a.name;a=a.valueType;document.getElementById(g).style.display=displayNone;document.getElementById(h).style.display=displayNone;document.getElementById(m).style.display=displayNone;document.getElementById(b).value=q;document.getElementById(k).value=a;b=document.getElementById(c);d=document.getElementById(d);k=document.getElementById(f);f=document.getElementById(e);k.value="";f.innerHTML="";jsonArrayDateValue=[];d.style.display=
displayNone;b.value=n;b.readOnly=!1;b.disabled=!1;if(a==dateType){b.value="";b.readOnly=!0;for(a=0;a<n.length;a++)jsonArrayDateValue.push(n[a]),b=addDateDiv(c,n[a],jsonArrayDateValue.length-1,e,l,p),f.appendChild(b);setDateValueToInput(c,jsonArrayDateValue);d.style.display=displayBlock}else if(a==nullType){c="";for(a=0;a<n.length;a++)c=c+","+valueNull;","===c.charAt(0)&&(c=c.substring(1));b.value=c}else if(a==autoType){c="";for(a=0;a<n.length;a++)c=null===n[a]?c+","+valueNull:c+","+n[a];","===c.charAt(0)&&
(c=c.substring(1));b.value=c}else a==objectsType&&(b.value="",b.disabled=!0)}
function setJsonArrayValue(a,b,c,d,e,f,k){document.getElementById(k).style.display=displayNone;var g=new JsonArray("",""),h=!0,m=!1;b=document.getElementById(b);void 0===b.value||""===b.value?(h=!1,document.getElementById(e).style.display=displayBlock):g.name=b.value;e=document.getElementById(d);e=e.options[e.selectedIndex].value;g.valueType=e;b=document.getElementById(c);if(e===stringType||e===autoType||e===objectsType)void 0===b.value&&(h=!1,document.getElementById(f).style.display=displayBlock);
else if(void 0===b.value||""===b.value)h=!1,document.getElementById(f).style.display=displayBlock;if(h&&(m=checkArrayValue(c,d,f,k)))for(c=b.value.split(","),d=0;d<c.length;d++)if(null!=c[d])switch(e){case numberType:isNaN(c[d])||(isFloat(c[d])?g.value.push(parseFloat(c[d])):g.value.push(parseInt(c[d])));break;case booleanType:"true"===c[d].toLowerCase()?g.value.push(!0):"false"===c[d].toLowerCase()&&g.value.push(!1);break;case nullType:"null"===c[d].toLowerCase()&&g.value.push(null);break;case dateType:for(d in jsonArrayDateValue)null!==
jsonArrayDateValue[d]&&g.value.push(jsonArrayDateValue[d]);break;case autoType:"null"===c[d].toLowerCase()?g.value.push(null):"true"===c[d].toLowerCase()?g.value.push(!0):"false"===c[d].toLowerCase()?g.value.push(!1):""===c[d].toLowerCase()?g.value.push(""):isNaN(c[d])?g.value.push(c[d]):isFloat(c[d])?g.value.push(parseFloat(c[d])):isInteger(c[d])?g.value.push(parseInt(c[d])):g.value.push(c[d]);break;case objectsType:break;default:g.value.push(c[d])}if(h&&m){if(a===overlayArrayBoxId)a=jQuery.data(document.getElementById(a),
dropTargetDivKey),a=jQuery.data(a,attachedJsonObjectKey),a.value.push(g),g=createObjectDiv(g),document.getElementById(a.tableId).appendChild(g.element),document.getElementById(a.tableId).appendChild(g.table),document.getElementById(a.imageId).style.visibility=displayVisible,closeOverLayVar(overlayDivId,overlayArrayBoxId,!1),objectTreeDivOnClick(g.id);else if(a===arrayBoxId){h=jQuery.data(document.getElementById(a),dropTargetDivKey);a=jQuery.data(h,attachedJsonObjectKey);if(a.valueType===objectsType&&
void 0!==a.tableId&&""!==a.tableId){for(m=document.getElementById(a.tableId);m.firstChild;)m.removeChild(m.firstChild);void 0!==a.imageId&&""!==a.imageId&&(document.getElementById(a.imageId).style.visibility=displayHidden)}a.name=g.name;a.value=g.value;a.valueType=g.valueType;$(h).html(getFormattedTreeDivName(a.name))}setFormattedJsonText()}}
function addDate(a,b,c,d,e,f,k){document.getElementById(d).style.display=displayNone;a=document.getElementById(a);b=document.getElementById(b);void 0===a.value||""===a.value?(b.innerHTML=selectDateMessage,b.style.display=displayBlock):(b.innerHTML="",b.style.display=displayNone,jsonArrayDateValue.push(a.valueAsDate),setDateValueToInput(c,jsonArrayDateValue),b=document.getElementById(e),c=addDateDiv(c,a.valueAsDate,jsonArrayDateValue.length-1,e,f,k),b.appendChild(c),a.value="")}
function setDateValueToInput(a,b){for(var c=document.getElementById(a),d=c.value="",e=0;e<b.length;e++)null!=b[e]&&(d=d+","+b[e].toLocaleDateString());","===d.charAt(0)&&(d=d.substring(1));c.value=d}
function addDateDiv(a,b,c,d,e,f){var k="date-"+c,g=document.createElement("div");g.id=k;var h=document.createElement("span");h.className=e;h.innerHTML=b.toLocaleDateString();b=document.createElement("img");b.src=deleteImagePath;b.className=f;b.addEventListener("click",function(){deleteDate(a,k,c,d)});g.appendChild(h);g.appendChild(b);return g}
function deleteDate(a,b,c,d){d=document.getElementById(d);b=document.getElementById(b);d.removeChild(b);jsonArrayDateValue[c]=null;setDateValueToInput(a,jsonArrayDateValue)}
function closeArrayOverlay(a,b,c){document.getElementById(a).style.visibility=displayHidden;document.getElementById(b).style.display=displayNone;document.getElementById(overlayArrayMandatoryName).style.display=displayNone;document.getElementById(overlayArrayMandatoryValue).style.display=displayNone;document.getElementById(overlayArrayCheckValue).style.display=displayNone;c&&(null!=objectViewSelectId&&(a=document.getElementById(objectViewSelectId),a.style.background=objectViewDivBackground),null!=
objectViewSelectId_2&&(a=document.getElementById(objectViewSelectId_2),a.style.background=objectViewDivSelectBackground),objectViewSelectId=objectViewSelectId_2)}function checkArrayValueOnFocus(a,b){var c=document.getElementById(b);c.options[c.selectedIndex].value!==dateType&&(document.getElementById(a).style.display=displayNone)}
function checkArrayValue(a,b,c,d){var e=!0;b=document.getElementById(b);b=b.options[b.selectedIndex].value;a=document.getElementById(a).value;if(b===stringType||b===autoType||b===objectsType)void 0===a&&(document.getElementById(c).style.display=displayBlock,document.getElementById(d).style.display=displayNone,e=!1);else if(void 0===a||""===a)document.getElementById(c).style.display=displayBlock,document.getElementById(d).style.display=displayNone,e=!1;if(e){a=a.trim();e=a.split(",");a=!1;c="";if(b===
numberType)for(var f=0;f<e.length;f++){if(b=e[f].trim(),isNaN(b)){a=!0;c=allNumberMessage;break}}else if(b===booleanType)for(f=0;f<e.length;f++){if(b=e[f].trim(),"true"!=b.toLowerCase()&&"false"!=b.toLowerCase()){a=!0;c=allBooleanMessage;break}}else if(b===nullType)for(f=0;f<e.length;f++)if(b=e[f].trim(),"null"!=b.toLowerCase()){a=!0;c=allNullMessage;break}if(a&&0<e.length)return d=document.getElementById(d),d.innerHTML=c,d.style.display=displayBlock,!1;document.getElementById(d).style.display=displayNone;
return!0}return!1}
function changeJsonArrayValueType(a,b,c,d,e,f,k){a=document.getElementById(a);b=document.getElementById(b);c=document.getElementById(c);b=b.options[b.selectedIndex].value;document.getElementById(d).style.display=displayNone;a.readOnly=!1;a.disabled=!1;b==dateType?(a.value="",a.readOnly=!0,c.style.display=displayBlock,checkElementOnFocus(e)):b==objectsType?(a.value="",a.disabled=!0,c.style.display=displayNone,document.getElementById(f).value="",document.getElementById(k).innerHTML="",jsonArrayDateValue=
[],checkElementOnFocus(e)):(a.value="",c.style.display=displayNone,document.getElementById(f).value="",document.getElementById(k).innerHTML="",jsonArrayDateValue=[],a.focus())}
function arrayDivOverlay(){var a=getDivWithIdAndClass("array-toolbox-overlay","array-toolbox-overlay"),b=createOverlayTitleBar("Json Array",closeOverLayVar,"overlay"),c=getDivWithIdAndClass("array-box","array-box");c.appendChild(arrayNameOverlay());c.appendChild(arrayValueOverlay());c.appendChild(arrayTypeOverlay());c.appendChild(arrayButtonOverlay());a.appendChild(b);a.appendChild(c);return a}
function arrayDiv(){var a=getDivWithIdAndClass("json-array-box","json-array-box");a.appendChild(arrayName());a.appendChild(arrayValue());a.appendChild(arrayType());a.appendChild(arrayButton());return a}
function arrayNameOverlay(){var a=getPropertyDiv("property-div"),b=getPropertyDivText("property-name","Name :- "),c=getPropertyDivInput("array-name","text","width:70%");c.addEventListener("blur",function(){checkElementOnblur("array-name","array-name-mandatory-overlay")});c.addEventListener("focus",function(){checkElementOnFocus("array-name-mandatory-overlay")});var d=getMandatoryText("array-name-mandatory-overlay","mandatory-text-overlay","* Name is a Mandatory Field");a.appendChild(b);a.appendChild(c);
a.appendChild(document.createElement("br"));a.appendChild(d);return a}
function arrayName(){var a=getPropertyDiv("json-property-div"),b=getPropertyDivText("json-property-name","Name :- "),c=getPropertyDivInput("json-array-name","text","width:60%");c.addEventListener("blur",function(){checkElementOnblur("json-array-name","array-name-mandatory-text")});c.addEventListener("focus",function(){checkElementOnFocus("array-name-mandatory-text")});var d=getMandatoryText("array-name-mandatory-text","mandatory-text","* Name is a Mandatory Field");a.appendChild(b);a.appendChild(c);
a.appendChild(d);return a}
function arrayValueOverlay(){var a=getPropertyDiv("property-div"),b=getPropertyDiv("array-div-value"),c=getPropertyDivText("property-value","Value :- "),d=getPropertyDivInput("array-value","text","width:70%");d.addEventListener("blur",function(){checkArrayValue("array-value","array-type","array-value-mandatory-overlay","array-value-check-overlay")});d.addEventListener("focus",function(){checkArrayValueOnFocus("array-value-mandatory-overlay","array-type")});var e=document.createElement("div");$(e).addClass("tool-tip-text");
$(e).html("Enter Comma Separated Values without quotes");b.appendChild(c);b.appendChild(d);b.appendChild(e);a.appendChild(b);a.appendChild(getDateDiv("array-date-div","date-div","width:70%","array-date-value","array-date-value-add","array-date-value","array-value-check-overlay","array-value-mandatory-overlay","array-value","add-date","delete-image"));a.appendChild(getMandatoryText("array-value-check-overlay","mandatory-text-overlay",""));a.appendChild(getMandatoryText("array-value-mandatory-overlay",
"mandatory-text-overlay","* Value is a Mandatory Field"));return a}
function arrayValue(){var a=getPropertyDiv("json-property-div"),b=getPropertyDiv("json-array-div-value"),c=getPropertyDivText("json-property-value","Value :- "),d=getPropertyDivInput("json-array-value","text","width:60%");d.addEventListener("blur",function(){checkArrayValue("json-array-value","json-array-type","array-value-mandatory-text","array-value-check-text")});d.addEventListener("focus",function(){checkArrayValueOnFocus("array-value-mandatory-text","json-array-type")});var e=document.createElement("div");
$(e).addClass("tool-tip-text");$(e).html("Enter Comma Separated Values without quotes");b.appendChild(c);b.appendChild(d);b.appendChild(e);a.appendChild(b);a.appendChild(getDateDiv("json-array-date-div","json-date-div","width:60%","json-array-date-value","json-array-date-value-add","json-array-date-value","array-value-check-text","array-value-mandatory-text","json-array-value","json-add-date","json-delete-image"));a.appendChild(getMandatoryText("array-value-mandatory-text","mandatory-text","* Value is a Mandatory Field"));
a.appendChild(getMandatoryText("array-value-check-text","mandatory-text",""));return a}
function arrayTypeOverlay(){var a=getPropertyDiv("property-div"),b=getPropertyDivText("property-type","Type :- "),c=getPropertyDivSelect("array-type");$(c).append($("<option></option>").attr("value","objects").text("Objects"));c.addEventListener("change",function(){changeJsonArrayValueType("array-value","array-type","array-date-div","array-value-check-overlay","array-value-mandatory-overlay","array-date-value","date-div")});a.appendChild(b);a.appendChild(c);return a}
function arrayType(){var a=getPropertyDiv("json-property-div"),b=getPropertyDivText("json-property-type","Type :- "),c=getPropertyDivSelect("json-array-type");$(c).append($("<option></option>").attr("value","objects").text("Objects"));c.addEventListener("change",function(){changeJsonArrayValueType("json-array-value","json-array-type","json-array-date-div","array-value-check-text","array-value-mandatory-text","json-array-date-value","json-date-div")});a.appendChild(b);a.appendChild(c);return a}
function arrayButtonOverlay(){var a=getPropertyDiv("property-div"),b=getPropertyDivButton("array-set","button","button-set","Set");b.addEventListener("click",function(){setJsonArrayValue("array-toolbox-overlay","array-name","array-value","array-type","array-name-mandatory-overlay","array-value-mandatory-overlay","array-value-check-overlay")});a.appendChild(b);return a}
function arrayButton(){var a=getPropertyDiv("json-property-div"),b=getPropertyDivButton("json-array-set","button","json-button-set","Set");b.addEventListener("click",function(){setJsonArrayValue("json-array-box","json-array-name","json-array-value","json-array-type","array-name-mandatory-text","array-value-mandatory-text","array-value-check-text")});a.appendChild(b);return a}
function setJsonObjectValue(a,b,c){var d=new JsonObject("","",""),e=!0;b=document.getElementById(b);void 0===b.value||""===b.value?(e=!1,document.getElementById(c).style.display=displayBlock):d.name=b.value;e&&(a===overlayObjectBoxId?(a=jQuery.data(document.getElementById(a),dropTargetDivKey),a=jQuery.data(a,attachedJsonObjectKey),d.parent=objectDragObjectType,a.value.push(d),d=createObjectDiv(d),document.getElementById(a.tableId).appendChild(d.element),document.getElementById(a.tableId).appendChild(d.table),
document.getElementById(a.imageId).style.visibility=displayVisible,closeOverLayVar(overlayDivId,!1),objectTreeDivOnClick(d.id)):a===objectBoxId&&(c=jQuery.data(document.getElementById(a),dropTargetDivKey),a=jQuery.data(c,attachedJsonObjectKey),a.name=d.name,$(c).html(getFormattedTreeDivName(a.name))),setFormattedJsonText())}function setObjectBoxInitialValues(a,b,c){a=a.name;document.getElementById(c).style.display=displayNone;document.getElementById(b).value=a}
function objectDivOverlay(){var a=getDivWithIdAndClass("object-toolbox-overlay","object-toolbox-overlay"),b=createOverlayTitleBar("Json Object",closeOverLayVar,"overlay"),c=getDivWithIdAndClass("object-box","element-box");c.appendChild(objectNameOverlay());c.appendChild(objectButtonOverlay());a.appendChild(b);a.appendChild(c);return a}function objectDiv(){var a=getDivWithId("json-object-box");a.appendChild(objectName());a.appendChild(objectButton());return a}
function objectNameOverlay(){var a=getPropertyDiv("property-div"),b=getPropertyDivText("property-name","Name :- "),c=getPropertyDivInput("object-name","text","width:70%");c.addEventListener("blur",function(){checkElementOnblur("object-name","object-name-mandatory-overlay")});c.addEventListener("focus",function(){checkElementOnFocus("object-name-mandatory-overlay")});var d=getMandatoryText("object-name-mandatory-overlay","mandatory-text-overlay","* Name is a Mandatory Field");a.appendChild(b);a.appendChild(c);
a.appendChild(d);return a}
function objectName(){var a=getPropertyDiv("json-property-div"),b=getPropertyDivText("json-property-name","Name :- "),c=getPropertyDivInput("json-object-name","text","width:60%");c.addEventListener("blur",function(){checkElementOnblur("json-object-name","object-name-mandatory-text")});c.addEventListener("focus",function(){checkElementOnFocus("object-name-mandatory-text")});var d=getMandatoryText("object-name-mandatory-text","mandatory-text","* Name is a Mandatory Field");a.appendChild(b);a.appendChild(c);
a.appendChild(d);return a}function objectButtonOverlay(){var a=getPropertyDiv("property-div"),b=getPropertyDivButton("object-set","button","button-set","Set");b.addEventListener("click",function(){setJsonObjectValue("object-toolbox-overlay","object-name","object-name-mandatory-overlay")});a.appendChild(b);return a}
function objectButton(){var a=getPropertyDiv("json-property-div"),b=getPropertyDivButton("json-object-set","button","json-button-set","Set");b.addEventListener("click",function(){setJsonObjectValue("json-object-box","json-object-name","object-name-mandatory-text")});a.appendChild(b);return a}
function loadStartingJson(){var a={};a[stringType]="Hello";a[numberType]=1;a[booleanType]=!1;a[dateType]=new Date;a.array=["a","b","c","d"];a.object={};a.object.objectString="Hello";a.object.objectNumber=1;a.object.objectBoolean=!1;document.getElementById(jsonTextViewId).value=JSON.stringify(a,null,"\t");for(var a=JSON.parse(document.getElementById(jsonTextViewId).value),b=document.getElementById(rootObjectTableId);b.firstChild;)b.removeChild(b.firstChild);parseToJsObject(a,rootJsonObject);objectTreeDivOnClick(rootObjectViewId)}
function parseToJsObject(a,b){if(null!==a)for(var c in a)if("string"===typeof a[c])if(isDate(a[c])){var d=Date.parse(a[c]);parseJsonElement(b,c,new Date(d),"date")}else parseJsonElement(b,c,a[c],"string");else"number"===typeof a[c]?parseJsonElement(b,c,a[c],"number"):"boolean"===typeof a[c]?parseJsonElement(b,c,a[c],"boolean"):"object"===typeof a[c]&&(null===a[c]?parseJsonElement(b,c,a[c],"null"):"[object Array]"===Object.prototype.toString.call(a[c])?parseJsonArray(b,c,a[c]):"[object Object]"===
Object.prototype.toString.call(a[c])&&parseJsonObject(b,c,a[c],objectDragObjectType))}function parseJsonObject(a,b,c,d){b=new JsonObject(b,"","");b.parent=d;a.value.push(b);d=createObjectDiv(b);document.getElementById(a.tableId).appendChild(d.element);document.getElementById(a.tableId).appendChild(d.table);document.getElementById(a.imageId).style.visibility=displayVisible;parseToJsObject(c,b)}
function parseJsonArray(a,b,c){b=new JsonArray(b,"");b.valueType="auto";a.value.push(b);var d=createObjectDiv(b);document.getElementById(a.tableId).appendChild(d.element);document.getElementById(a.tableId).appendChild(d.table);document.getElementById(a.imageId).style.visibility=displayVisible;if(null!==c){var e=[],f;for(f in c)"object"===typeof c[f]?"[object Object]"===Object.prototype.toString.call(c[f])?(parseJsonObject(b,f,c[f],objectDragArrayType),b.valueType="objects"):null===f&&e.push(c[f]):
e.push(c[f])}b.valueType!==objectsType&&(b.value=e)}function parseJsonElement(a,b,c,d){b=new JsonElement(b,c,d);a.value.push(b);b=createElementDiv(b);document.getElementById(a.tableId).appendChild(b.element);document.getElementById(a.imageId).style.visibility=displayVisible}function expandJsonObjectView(a,b,c){c=document.getElementById(c);c.appendChild(createLargeObjectViewOverlay());c.style.visibility=displayVisible;a=document.getElementById(a);document.getElementById(b).appendChild(a)}
function expandJsonTextView(a,b,c){c=document.getElementById(c);c.appendChild(createLargeTextViewOverlay());c.style.visibility=displayVisible;document.getElementById(b).value=document.getElementById(a).value}var closeLargeTextOverlayVar=function(a){closeLargeOverlay(a)},closeLargeObjectOverlayVar=function(a){var b=document.getElementById("json-object-view-table");document.getElementById("json-object-view").appendChild(b);closeLargeOverlay(a)};
function closeLargeOverlay(a){for(a=document.getElementById(a);a.firstChild;)a.removeChild(a.firstChild);a.style.visibility=displayHidden}
function createLargeTextViewOverlay(){var a=getDivWithIdAndClass("large-json-text-view","large-json-text-view"),b=document.createElement("textarea");$(b).addClass("large-json-text");$(b).attr("id","large-json-text");$(b).attr("readonly","readonly");a.appendChild(createLargeOverlayTitleBar("Json Text View",closeLargeTextOverlayVar,"large-json-overlay"));a.appendChild(b);return a}
function createLargeObjectViewOverlay(){var a=getDivWithIdAndClass("large-json-object-view","large-json-text-view"),b=getDivWithIdAndClass("large-json-object","large-json-object");a.appendChild(createLargeOverlayTitleBar("Json Object View",closeLargeObjectOverlayVar,"large-json-overlay"));a.appendChild(b);return a}
function createOverlayTitleBar(a,b,c){var d=document.createElement("div");$(d).addClass("overlay-title-bar");var e=document.createElement("span");$(e).addClass("overlay-title");$(e).html(a);a=document.createElement("img");$(a).addClass("close-overlay");$(a).attr("alt",imageAlt);$(a).attr("src",deleteImagePath);a.addEventListener("click",function(){b(c,!0)});d.appendChild(e);d.appendChild(a);return d}
function createLargeOverlayTitleBar(a,b,c){var d=document.createElement("div");$(d).addClass("overlay-title-bar");var e=document.createElement("span");$(e).addClass("overlay-title");$(e).html(a);a=document.createElement("img");$(a).addClass("close-overlay");$(a).attr("alt",imageAlt);$(a).attr("src",deleteImagePath);a.addEventListener("click",function(){b(c)});d.appendChild(e);d.appendChild(a);return d}function getDivWithId(a){var b=document.createElement("div");$(b).attr("id",a);return b}
function getDivWithIdAndClass(a,b){var c=document.createElement("div");$(c).attr("id",a);$(c).addClass(b);return c}function getMandatoryText(a,b,c){var d=document.createElement("div");$(d).attr("id",a);$(d).addClass(b);$(d).html(c);return d}function getPropertyDivText(a,b){var c=document.createElement("span");$(c).addClass(a);$(c).html(b);return c}function getPropertyDiv(a){var b=document.createElement("div");$(b).addClass(a);return b}
function getPropertyDivInput(a,b,c){var d=document.createElement("input");$(d).attr("id",a);$(d).attr("type",b);$(d).attr("style",c);return d}function getPropertyDivButton(a,b,c,d){var e=document.createElement("button");$(e).attr("id",a);$(e).attr("type",b);$(e).addClass(c);$(e).html(d);return e}function getImage(a,b,c){var d=document.createElement("img");$(d).addClass(c);$(d).attr("id",a);$(d).attr("src",b);return d}
function getDateDiv(a,b,c,d,e,f,k,g,h,m,l){a=getDivWithId(a);$(a).attr("style","display:none");var p=getDivWithId(b);c=getPropertyDivInput(d,"date",c);$(c).addClass("json-array-date");d=document.createElement("button");$(d).attr("id",e);$(d).attr("type","button");$(d).attr("style","height: 24px");$(d).html("Add");d.addEventListener("click",function(){addDate(f,k,h,g,b,m,l)});a.appendChild(p);a.appendChild(c);a.appendChild(d);return a}
function getPropertyDivSelect(a){var b=document.createElement("select");$(b).attr("id",a);$(b).append($("<option></option>").attr("value","auto").text("Auto"));$(b).append($("<option></option>").attr("value","string").text("String"));$(b).append($("<option></option>").attr("value","number").text("Number"));$(b).append($("<option></option>").attr("value","boolean").text("Boolean"));$(b).append($("<option></option>").attr("value","date").text("Date"));$(b).append($("<option></option>").attr("value",
"null").text("Null"));return b}function getPropertyDivRadio(a,b){var c=document.createElement("input");$(c).attr("id",a);$(c).attr("type","radio");$(c).attr("name","radioValue");$(c).attr("value",b);return c}
function getPropertyBooleanBox(a,b,c,d,e){var f=document.createElement("div");$(f).attr("id",a);$(f).attr("style","display:none");a=getPropertyDivRadio(b,"true");a.addEventListener("click",function(){setElementBooleanValue(e)});a.addEventListener("focus",function(){checkElementOnFocus(e)});b=getPropertyDivText(d,"True");c=getPropertyDivRadio(c,"false");c.addEventListener("click",function(){setElementBooleanValue(e)});d=getPropertyDivText(d,"False");f.appendChild(a);f.appendChild(b);f.appendChild(c);
f.appendChild(d);return f}function newJson(){for(var a=document.getElementById(rootObjectTableId);a.firstChild;)a.removeChild(a.firstChild);document.getElementById(rootObjectViewId).style.background=objectViewDivBackground;objectViewSelectId=null;unCopy();rootJsonObject.value=[];setFormattedJsonText()}function copy(){null===objectViewSelectId?alert(noneSelectedCopyMessage):(document.getElementById("copy-json-element").src=copySelectImagePath,isCopyMode=!0,copyObjectViewId=objectViewSelectId)}
function unCopy(){document.getElementById("copy-json-element").src=copyImagePath;isCopyMode=!1;copyObjectViewId=null}
function objectTreeDivOnClick(a){if(null!=objectViewSelectId){var b=document.getElementById(objectViewSelectId);null!=b&&(b.style.background=objectViewDivBackground)}b=document.getElementById(a);b.style.background=objectViewDivSelectBackground;objectViewSelectId=a;if(isCopyMode){var c=paste();unCopy();c===objectViewSelectId?(hidePropertyBox(propertyBox),a!==rootObjectViewId&&setAndShowPropertyBox(b)):objectTreeDivOnClick(c)}else hidePropertyBox(propertyBox),a!==rootObjectViewId&&setAndShowPropertyBox(b)}
function paste(){var a=objectViewSelectId,b=document.getElementById(copyObjectViewId),b=jQuery.data(b,attachedJsonObjectKey),c=document.getElementById(objectViewSelectId),c=jQuery.data(c,attachedJsonObjectKey);if(allowDrop(b.type,c)){for(var d=!1,e=0,f="";;){for(var k in c.value)if(c.value[k].name===b.name+f){d=!0;break}if(d)e+=1,f=" - "+e,d=!1;else break}k=cloneObject(c,b,f);null!==k&&(c.type===objectDragArrayType&&(k.name=c.value.length,$(document.getElementById(k.divId)).html(getFormattedTreeDivName(k.name))),
c.value.push(k),setFormattedJsonText(),a=k.divId)}return a}
function cloneObject(a,b,c){var d=null;if(b.type===objectDragElementType)d=new JsonElement(b.name+c,"",b.valueType),c=createElementDiv(d),document.getElementById(a.tableId).appendChild(c.element),document.getElementById(a.imageId).style.visibility=displayVisible,d.value=b.valueType===dateType?new Date(b.value.toUTCString()):b.value;else if(b.type===objectDragArrayType)if(d=new JsonArray(b.name+c,b.valueType),c=createObjectDiv(d),document.getElementById(a.tableId).appendChild(c.element),document.getElementById(a.tableId).appendChild(c.table),
document.getElementById(a.imageId).style.visibility=displayVisible,b.valueType===dateType)for(var e in b.value)d.value.push(new Date(b.value[e].toUTCString()));else if(b.valueType===objectsType)for(e in b.value)d.value.push(cloneObject(d,b.value[e],""));else for(e in b.value)d.value.push(b.value[e]);else if(b.type===objectDragObjectType)for(e in d=new JsonObject(b.name+c),d.parent=a.type,c=createObjectDiv(d),document.getElementById(a.tableId).appendChild(c.element),document.getElementById(a.tableId).appendChild(c.table),
document.getElementById(a.imageId).style.visibility=displayVisible,b.value)d.value.push(cloneObject(d,b.value[e],""));return d}function saveToDisk(){var a=document.createElement("a");a.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(document.getElementById(jsonTextViewId).value));a.setAttribute("download","JsonFile.json");a.style.display="none";document.body.appendChild(a);a.click();document.body.removeChild(a)}
function saveToCloud(){var a=document.getElementById(jsonTextViewId).value,b=getParameterByName("id",window.location.href);null!==b?(a={jsonText:a,id:b},a=JSON.stringify(a,null,""),document.getElementById("loading-overlay").style.visibility=displayVisible,$.ajax({url:"http://json-editor-backend.appspot.com/rest/json/",data:a,datatype:"application/json",contentType:"application/json",async:!0,type:"PUT",crossDomain:!0,success:function(a){document.getElementById("loading-overlay").style.visibility=
displayHidden;null===a.id||"null"===a.id||isNaN(a.id)?alert(CloudConnectionProblemMessage):alert(jsonSavedMessage)},error:function(a){document.getElementById("loading-overlay").style.visibility=displayHidden;alert(CloudConnectionProblemMessage)}})):(a={jsonText:a},a=JSON.stringify(a,null,""),document.getElementById("loading-overlay").style.visibility=displayVisible,$.ajax({url:"http://json-editor-backend.appspot.com/rest/json/",data:a,datatype:"application/json",contentType:"application/json",async:!0,
type:"POST",crossDomain:!0,success:function(a){document.getElementById("loading-overlay").style.visibility=displayHidden;null===a.id||"null"===a.id||isNaN(a.id)?alert(CloudConnectionProblemMessage):window.open("http://codedestine.com/json-editor.html?id="+a.id,"_self")},error:function(a){document.getElementById("loading-overlay").style.visibility=displayHidden;alert(CloudConnectionProblemMessage)}}))}
function getParameterByName(a,b){b||(b=window.location.href);a=a.replace(/[\[\]]/g,"\\$&");var c=(new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)")).exec(b);return c?c[2]?decodeURIComponent(c[2].replace(/\+/g," ")):"":null}
function load(){var a=getParameterByName("id",window.location.href);null!==a?(document.getElementById(jsonTextViewId),document.getElementById("loading-overlay").style.visibility=displayVisible,$.ajax({url:"http://json-editor-backend.appspot.com/rest/json/"+a,datatype:"application/json",async:!0,type:"GET",crossDomain:!0,success:function(a){document.getElementById("loading-overlay").style.visibility=displayHidden;document.getElementById(jsonTextViewId).value=a.jsonText;loadJsonToTool(a.jsonText)},
error:function(){document.getElementById("loading-overlay").style.visibility=displayHidden;alert(CloudConnectionProblemMessage)}})):loadStartingJson()}function loadJson(){var a=document.getElementById(jsonTextViewId).value;loadJsonToTool(a)}
function loadJsonToTool(a){a=JSON.parse(a);if(null!==a){for(var b=document.getElementById(rootObjectTableId);b.firstChild;)b.removeChild(b.firstChild);objectViewSelectId=null;unCopy();rootJsonObject.value=[];parseToJsObject(a,rootJsonObject);objectTreeDivOnClick(rootObjectViewId);setFormattedJsonText()}}function closeHelpOverlay(a,b){document.getElementById(a).style.visibility=displayHidden;document.getElementById(b).style.visibility=displayHidden}
function openHelpOverlay(a,b){document.getElementById(a).style.visibility=displayVisible;document.getElementById(b).style.visibility=displayVisible}
function isDate(a){return moment(a,"YYYY-MM-DD",!0).isValid()||moment(a,"YYYY-MM-DDThh:mm:ss",!0).isValid()||moment(a,"YYYY-MM-DDThh:mm:ssZ",!0).isValid()||moment(a,"YYYY-MM-DDThh:mm",!0).isValid()||moment(a,"YYYY-MM-DDThh:mmZ",!0).isValid()||moment(a,"YYYY-MM-DDThh:mm:ss.s",!0).isValid()||moment(a,"YYYY-MM-DDThh:mm:ss.sZ",!0).isValid()||moment(a,"YYYY-MM-DDThh:mm:ss.ss",!0).isValid()||moment(a,"YYYY-MM-DDThh:mm:ss.ssZ",!0).isValid()||moment(a,"YYYY-MM-DDThh:mm:ss.sss",!0).isValid()||moment(a,"YYYY-MM-DDThh:mm:ss.sssZ",
!0).isValid()||moment(a,"YYYY-MM-DDThh:mm:ss.sss+hh:mm",!0).isValid()||moment(a,"YYYY-MM-DDThh:mm:ss.sss-hh:mm",!0).isValid()||moment(a,"YYYY-MM-DDThh:mm:ss.ss+hh:mm",!0).isValid()||moment(a,"YYYY-MM-DDThh:mm:ss.ss-hh:mm",!0).isValid()||moment(a,"YYYY-MM-DDThh:mm:ss.s+hh:mm",!0).isValid()||moment(a,"YYYY-MM-DDThh:mm:ss.s-hh:mm",!0).isValid()?!0:!1};
